<!DOCTYPE html>
<html lang="en">

<head>
	<title>Poetry Book</title>
	<link rel="stylesheet" href="../styles.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" charset='UTF-8'>
	<script src="https://js.stripe.com/v3/"></script>
</head>
	<body>
		<main>
			<div class="main-name">I wrote a book!</div>
				<br>
				<div class="img">
					<img class="src" src="../images/cover.png">
					<br>
					<small><i>
						<a href="https://www.amazon.com/Malleability-Blackness-Bersabel-Tadesse/dp/B08R689SJJ/">View on Amazon</a>
					</small></i>
				</div>
					<br>
					<div class="side-panel">
						<div class="price">
							$5.49
						</div>
						<br><br>
					"The Malleability of Blackness" is a short collection of poetry and my first published work.
					<br>
					<br>
					As someone who immigrated to the U.S. from Ethiopia at a young age, my writing often explores themes of cultural identity, community, and loss. In this collection, I explore those themes, along with thmes of love, self-worth, and self-discovery.
					<br><br>
					You can order a paperback copy below.
					<br><br>
					<div align="center">
						<button class="button" id="checkout-button">Order</button>
					</div>
					<script type="text/javascript">
					var stripe = Stripe('pk_test_51I5guzAiWfgnXePlT4jiw9VufG2HAZf7ZS1jdrKGG3ycxdtF57cn6z2aLj5jUMfRj9nL1eiAJ4pvVBE9to9xlWUb00HvEZM1CZ');
					var checkoutButton = document.getElementById('checkout-button');

					checkoutButton.addEventListener('click', function() {
						fetch('/create-checkout-session', {
							method: 'POST',
						})
						.then(function(response) {
							return response.json();
						})
						.then(function(session) {
							return stripe.redirectToCheckout({ sessionId: session.id });
						})
						.then(function(result) {
							// If `redirectToCheckout` fails due to a browser or network
							// error, you should display the localized error message to your
							// customer using `error.message`.
							if (result.error) {
								alert(result.error.message);
							}
						})
						.catch(function(error) {
							console.error('Error:', error);
						});
					});
		    	</script>
				</div>
    </main>
  </body>

<footer>
</footer>

</html>
